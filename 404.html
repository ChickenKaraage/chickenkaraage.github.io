<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Page Not Found - Chinese Modern History Explorer</title>
  <script>
    (function() {
      const path = window.location.pathname;
      if (path.split("/").length > 2) {
        sessionStorage.setItem("spa-path", path);
        sessionStorage.setItem("spa-timestamp", Date.now().toString());
      }
      
      let lang = "en";
      if (path.startsWith("/zh/")) {
        lang = "zh";
      } else if (path.startsWith("/en/")) {
        lang = "en";
      } else {
        try {
          const savedLang = localStorage.getItem("preferred-language");
          if (savedLang === "zh" || savedLang === "en") {
            lang = savedLang;
          }
        } catch (e) {}
      }
      
      window.location.href = "/" + lang;
    })();
  </script>
</head>
<body>
  <h1>Redirecting...</h1>
</body>
</html>
