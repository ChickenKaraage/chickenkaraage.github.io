import{w as N,t,B as o,l as c}from"./root-BKfYRMLZ.js";import{u as f,r as l,j as a,L as x}from"./chunk-K6CSEXPM-CZM0g_7M.js";import{g as k}from"./figure-service-DwnftWDA.js";import{g as v}from"./event-service-CcuodM8J.js";import"./preload-helper-D7HrI6pR.js";const S=N(function(){const e=f().lang==="zh"?"zh":"en",[m,g]=l.useState({figures:[],events:[],lang:e}),[h,i]=l.useState(!0),[n,p]=l.useState(null);if(l.useEffect(()=>{async function s(){try{i(!0);const[r,d]=await Promise.all([k(),v()]),u=c(r,e),j=c(d,e);g({figures:u,events:j,lang:e})}catch(r){p("Error loading data"),console.error(r)}finally{i(!1)}}s()},[e]),h)return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:"Loading..."});if(n)return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:["Error: ",n]});const{figures:b,events:y}=m;return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:t("siteTitle",e)}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:t("siteDescription",e)})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:t("historicalFigures",e)}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map(s=>a.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:a.jsx(x,{to:`${o}/${e}/figure/${s.id}`,className:"block h-full",children:a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:s.name}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:[s.birth," - ",s.death||t("present",e)]}),a.jsx("div",{className:"mb-3",children:s.titles.map((r,d)=>a.jsx("span",{className:"inline-block bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded mr-2 mb-2",children:r},d))}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 line-clamp-3",children:s.biography})]})})},s.id))})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:t("keyHistoricalEvents",e)}),a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:y.map(s=>a.jsx("div",{className:"py-6 first:pt-0",children:a.jsxs(x,{to:`${o}/${e}/event/${s.id}`,className:"block hover:bg-gray-50 dark:hover:bg-gray-800 p-2 -mx-2 rounded-lg transition-colors",children:[a.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-600 dark:text-blue-400 hover:underline",children:s.title}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:[s.startDate,s.endDate?` ${t("to",e)} ${s.endDate}`:""," â€¢ ",s.location]}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.summary}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.participants.slice(0,5).map(r=>a.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-2 py-1 rounded",children:r.name},r.personId)),s.participants.length>5&&a.jsxs("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-2 py-1 rounded",children:["+",s.participants.length-5," ",t("more",e)]})]})]})},s.id))})]}),a.jsxs("section",{className:"mt-12 bg-gray-50 dark:bg-gray-800 p-6 rounded-lg",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:t("aboutProject",e)}),a.jsx("p",{className:"mb-4",children:t("aboutText1",e)}),a.jsx("p",{children:t("aboutText2",e)})]})]})});export{S as default};
