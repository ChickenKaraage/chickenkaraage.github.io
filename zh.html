<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Chinese Modern History Explorer</title>
    <meta name="description" content="Explore key figures and events in modern Chinese history">
    <script>
      // This will be used by both 404.html and the language-specific entry points
      // It stores the original path but only needs to run once
      (function() {
        if (!window.redirectChecked) {
          window.redirectChecked = true;
          // Check if we came from the 404 page
          const path = sessionStorage.getItem('spa-path');
          if (path) {
            // Clear it to prevent loops
            sessionStorage.removeItem('spa-path');
            // After the app is fully loaded, React Router will handle the navigation
            window.addEventListener('DOMContentLoaded', function() {
              // We'll use window.history to set the proper URL without causing a page reload
              if (window.history && window.history.replaceState) {
                window.history.replaceState(null, '', path);
              }
            });
          }
        }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/assets/entry.client-CC302JCQ.js"></script>
  </body>
</html>
